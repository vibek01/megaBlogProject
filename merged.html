<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vibek â€“ Portfolio</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <!-- TailwindCSS for Skills Section -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Three.js & Helpers for Hero Section -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.142.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.142.0/examples/js/controls/OrbitControls.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.142.0/examples/js/lights/RectAreaLightUniformsLib.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.142.0/examples/js/lights/RectAreaLight.js"></script>

  <style>
    /* --- Global Reset & Base Styles --- */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    html, body {
      height: 100%;
      width: 100%;
    }
    body {
      font-family: 'Segoe UI', Roboto, sans-serif;
      background: #000;
      color: #eee;
      overflow-x: hidden;
      /* allow scrolling between sections */
      overflow-y: auto;
    }
    h1, h2 {
      font-family: 'Poppins', sans-serif;
    }

    /* ==========================
       HERO SECTION
       ========================== */
    .hero-container {
      display: flex;
      height: 100vh;
      width: 100%;
    }
    .text-side, .canvas-side {
      position: relative;
      flex: 1;
    }

    .text-side {
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 2rem;
      background: linear-gradient(
        to right,
        rgba(17,17,17,1) 0%,
        rgba(17,17,17,0.8) 30%,
        rgba(17,17,17,0.5) 60%,
        rgba(17,17,17,0) 100%
      );
      backdrop-filter: blur(4px);
    }
    .text-side h1, .text-side h2 {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 1s ease-out forwards;
      cursor: default;
    }
    .text-side h1 {
      font-size: 3rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
      animation-delay: 0.2s;
      transition: transform 0.3s, color 0.3s;
    }
    .text-side h1:hover {
      color: #f0c674;
      transform: scale(1.05);
    }
    .text-side h2 {
      font-size: 1.5rem;
      font-weight: 400;
      animation-delay: 0.6s;
      transition: letter-spacing 0.3s, color 0.3s;
    }
    .text-side h2:hover {
      color: #8dc891;
      letter-spacing: 2px;
    }
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .canvas-side {
      overflow: hidden;
    }
    #canvas-container {
      width: 100%;
      height: 100%;
      display: block;
    }

    @media (max-width: 768px) {
      .hero-container {
        flex-direction: column;
      }
      .text-side {
        align-items: center;
        text-align: center;
        padding: 1.5rem;
      }
      .text-side h1 {
        font-size: 2.5rem;
      }
      .text-side h2 {
        font-size: 1.25rem;
      }
      .canvas-side {
        height: 50vh;
      }
    }

    /* ==========================
       SKILLS SECTION
       ========================== */
    .skills-section {
      background: #000;
      color: #eee;
      font-family: 'Poppins', sans-serif;
      padding: 4rem 2rem;
    }
    .skills-container {
      display: grid;
      grid-template-columns: repeat(2, auto);
      gap: 3rem 6rem;
      justify-content: center;
      align-items: start;
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
    }
    .segment {
      position: relative;
      display: flex;
      gap: 2.5rem;
      justify-content: center;
      align-items: center;
      padding-bottom: 2rem;
    }
    .segment.bottom {
      grid-column: 1 / -1;
    }
    .skill-chip {
      position: relative;
      width: 90px;
      height: 90px;
      background: #111;
      border-radius: 12px;
      cursor: pointer;
      overflow: visible;
      box-shadow:
        inset 4px 4px 8px rgba(0,0,0,0.9),
        inset -4px -4px 8px rgba(255,255,255,0.05);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }
    .skill-chip::before,
    .skill-chip::after {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      border-radius: 12px;
      pointer-events: none;
    }
    .skill-chip::before {
      background: linear-gradient(
        135deg,
        rgba(255,255,255,0.1),
        transparent 60%
      );
    }
    .skill-chip::after {
      background: linear-gradient(
        315deg,
        rgba(0,0,0,0.7),
        transparent 60%
      );
    }
    .skill-chip:hover {
      transform: rotateX(8deg) rotateY(8deg) scale(1.03);
      box-shadow:
        inset 6px 6px 12px rgba(0,0,0,1),
        inset -6px -6px 12px rgba(255,255,255,0.1),
        0 0 16px rgba(255,255,255,0.4);
    }
    .skill-logo {
      position: absolute;
      top: 50%; left: 50%;
      width: 40px; height: 40px;
      transform: translate(-50%, -50%);
      transition: transform 0.6s ease, filter 0.6s ease;
    }
    .skill-chip:hover .skill-logo {
      transform: translate(-50%, -50%) rotate(360deg) scale(1.1);
      filter: drop-shadow(0 0 8px #fff);
    }
    .invert {
      filter: invert(1) brightness(1.5);
    }
    .skill-label {
      position: absolute;
      bottom: -1.6rem;
      left: 50%;
      transform: translate(-50%, 10px);
      background: rgba(255,255,255,0.1);
      color: #eee;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.75rem;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease, transform 0.3s ease;
    }
    .skill-chip:hover .skill-label {
      opacity: 1;
      transform: translate(-50%, 0);
    }
    .segment-line {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 120px;
      height: 4px;
      background: #555;
      border-radius: 2px;
      box-shadow: 0 0 12px rgba(255,255,255,0.2);
      animation: pulse 2s infinite alternate;
    }
    @keyframes pulse {
      from { box-shadow: 0 0 6px rgba(255,255,255,0.2); }
      to   { box-shadow: 0 0 14px rgba(255,255,255,0.4); }
    }

    @media (max-width: 768px) {
      .skills-container {
        grid-template-columns: 1fr;
        gap: 2rem;
      }
      .segment {
        gap: 1.5rem;
        padding-bottom: 1.5rem;
      }
      .skill-chip {
        width: 70px;
        height: 70px;
      }
      .skill-logo {
        width: 28px;
        height: 28px;
      }
      .skill-label {
        bottom: -1.4rem;
        font-size: 0.65rem;
      }
      .segment-line {
        width: 80px;
      }
    }
    @media (max-width: 480px) {
      .skills-section {
        padding: 2rem 1rem;
      }
      .segment {
        gap: 1rem;
        padding-bottom: 1rem;
      }
      .skill-chip {
        width: 60px;
        height: 60px;
      }
      .skill-logo {
        width: 24px;
        height: 24px;
      }
      .skill-label {
        bottom: -1.2rem;
        font-size: 0.6rem;
      }
      .segment-line {
        width: 60px;
      }
    }
  </style>
</head>
<body>

  <!-- HERO SECTION -->
  <section id="hero" class="hero-container">
    <div class="text-side">
      <h1>Hi, I am Vibek</h1>
      <h2>Full Stack Developer</h2>
    </div>
    <div class="canvas-side">
      <div id="canvas-container"></div>
    </div>
  </section>

  <!-- SKILLS SECTION -->
  <section id="skills" class="skills-section">
    <div class="skills-container">

      <!-- Top-Left Segment -->
      <div class="segment">
        <div class="skill-chip">
          <img
            class="skill-logo"
            src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg"
            alt="Node.js"
          />
          <span class="skill-label">Node.js</span>
        </div>
        <div class="skill-chip">
          <img
            class="skill-logo"
            src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg"
            alt="React"
          />
          <span class="skill-label">React</span>
        </div>
        <div class="skill-chip">
          <img
            class="skill-logo invert"
            src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/express/express-original.svg"
            alt="Express.js"
          />
          <span class="skill-label">Express.js</span>
        </div>
        <div class="segment-line"></div>
      </div>

      <!-- Top-Right Segment -->
      <div class="segment">
        <div class="skill-chip">
          <img
            class="skill-logo"
            src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg"
            alt="Docker"
          />
          <span class="skill-label">Docker</span>
        </div>
        <div class="skill-chip">
          <img
            class="skill-logo"
            src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/git/git-original.svg"
            alt="Git / GitHub"
          />
          <span class="skill-label">Git / GitHub</span>
        </div>
        <div class="skill-chip">
          <img
            class="skill-logo"
            src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mongodb/mongodb-original.svg"
            alt="MongoDB"
          />
          <span class="skill-label">MongoDB</span>
        </div>
        <div class="segment-line"></div>
      </div>

      <!-- Bottom Segment -->
      <div class="segment bottom">
        <div class="skill-chip">
          <img
            class="skill-logo"
            src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg"
            alt="JavaScript"
          />
          <span class="skill-label">JavaScript</span>
        </div>
        <div class="skill-chip">
          <img
            class="skill-logo"
            src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg"
            alt="HTML5"
          />
          <span class="skill-label">HTML5</span>
        </div>
        <div class="skill-chip">
          <img
            class="skill-logo invert"
            src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nextjs/nextjs-line.svg"
            alt="Next.js"
          />
          <span class="skill-label">Next.js</span>
        </div>
        <div class="segment-line"></div>
      </div>

    </div>
  </section>

  <!-- Three.js Script for Hero Cube -->
  <script>
    // Renderer & Scene Setup
    const container = document.getElementById('canvas-container');
    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setPixelRatio(window.devicePixelRatio);
    renderer.physicallyCorrectLights = true;
    renderer.outputEncoding = THREE.sRGBEncoding;
    renderer.toneMapping = THREE.ReinhardToneMapping;
    renderer.toneMappingExposure = 1.1;
    container.appendChild(renderer.domElement);

    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0x000000);

    const camera = new THREE.PerspectiveCamera(45, 2, 0.1, 1000);
    camera.position.set(5, 5, 10);

    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;

    // Lighting
    scene.add(new THREE.AmbientLight(0xffffff, 0.6));
    const hemi = new THREE.HemisphereLight(0xffffff, 0x444444, 0.5);
    hemi.position.set(0, 20, 0);
    scene.add(hemi);

    const keyLight = new THREE.DirectionalLight(0xffffff, 0.8);
    scene.add(keyLight);

    const rimLight = new THREE.DirectionalLight(0xffffff, 0.4);
    rimLight.position.set(0, 10, 0);
    scene.add(rimLight);

    THREE.RectAreaLightUniformsLib.init();
    const frontArea = new THREE.RectAreaLight(0xffffff, 8, 6, 6);
    frontArea.position.set(0, 0, 8);
    frontArea.lookAt(0, 0, 0);
    scene.add(frontArea);

    const backArea = new THREE.RectAreaLight(0xffffff, 5, 6, 6);
    backArea.position.set(0, 0, -8);
    backArea.lookAt(0, 0, 0);
    scene.add(backArea);

    const p1 = new THREE.PointLight(0xffaa55, 0.4, 50);
    p1.position.set(10, 10, 10);
    scene.add(p1);

    const p2 = new THREE.PointLight(0x55aaff, 0.4, 50);
    p2.position.set(-10, -10, -10);
    scene.add(p2);

    // Rounded Box Geometry
    function createRoundedBox(w,h,d,r,s) {
      const shape = new THREE.Shape();
      const eps = 1e-5, radius = r - eps;
      shape.absarc(eps, eps, eps, -Math.PI/2, -Math.PI, true);
      shape.absarc(eps, h-radius*2, eps, Math.PI, Math.PI/2, true);
      shape.absarc(w-radius*2, h-radius*2, eps, Math.PI/2, 0, true);
      shape.absarc(w-radius*2, eps, eps, 0, -Math.PI/2, true);
      const geom = new THREE.ExtrudeBufferGeometry(shape, {
        depth: d - r*2,
        bevelEnabled: true,
        bevelSegments: s*2,
        steps: 1,
        bevelSize: radius,
        bevelThickness: r,
        curveSegments: s
      });
      geom.center();
      return geom;
    }

    const cubeMat = new THREE.MeshStandardMaterial({
      color: '0x2a2a2a', metalness: 1, roughness: 0.1
    });

    const bottomLayer = new THREE.Group();
    const middleLayer = new THREE.Group();
    const topLayer    = new THREE.Group();
    const size = 1, gap = 0.08;

    for (let x=-1; x<=1; x++){
      for (let y=-1; y<=1; y++){
        for (let z=-1; z<=1; z++){
          const mesh = new THREE.Mesh(
            createRoundedBox(size,size,size,0.1,5),
            cubeMat
          );
          mesh.position.set(
            x*(size+gap),
            y*(size+gap),
            z*(size+gap)
          );
          if (y===-1)      bottomLayer.add(mesh);
          else if (y===0)  middleLayer.add(mesh);
          else             topLayer.add(mesh);
        }
      }
    }

    const cubeGroup = new THREE.Group();
    cubeGroup.add(bottomLayer, middleLayer, topLayer);
    scene.add(cubeGroup);
    keyLight.target = cubeGroup;

    // Rotation Queue
    const originalQueue = [
      { group: bottomLayer, axis: 'y', angle: Math.PI/2 },
      { group: middleLayer, axis: 'y', angle: Math.PI/2 },
      { group: topLayer,    axis: 'y', angle: Math.PI/2 },
    ];
    let rotationQueue = originalQueue.map(o => ({...o}));
    let currentTurn = null;
    const layerSpeed = Math.PI/240;

    // Resize Handling
    function onWindowResize(){
      const w = container.clientWidth;
      const h = container.clientHeight;
      renderer.setSize(w,h);
      camera.aspect = w/h;
      camera.updateProjectionMatrix();
    }
    window.addEventListener('resize', onWindowResize);
    onWindowResize();

    // Animate Loop
    const startTime = Date.now();
    function animate(){
      requestAnimationFrame(animate);
      const t = (Date.now() - startTime)*0.001;

      cubeGroup.rotation.x = t*0.2;
      cubeGroup.rotation.y = t*0.3;

      if (!currentTurn) {
        if (!rotationQueue.length) {
          rotationQueue = originalQueue.map(o => ({...o}));
        }
        currentTurn = rotationQueue.shift();
        currentTurn.remaining = currentTurn.angle;
      }
      if (currentTurn) {
        const step = Math.min(layerSpeed, Math.abs(currentTurn.remaining));
        const dir = Math.sign(currentTurn.remaining);
        currentTurn.group.rotation[currentTurn.axis] += dir*step;
        currentTurn.remaining -= dir*step;
        if (Math.abs(currentTurn.remaining) < 1e-3) {
          currentTurn = null;
        }
      }

      p1.intensity = 0.4 + Math.sin(t*2)*0.2;
      p2.intensity = 0.4 + Math.cos(t*1.8)*0.2;
      keyLight.position.copy(camera.position);

      controls.update();
      renderer.render(scene, camera);
    }
    animate();
  </script>
</body>
</html>
